<ion-header>
  <ion-toolbar>
    <ion-row>
      <ion-button [routerLink]="['/home/retailer']" expand="block" fill="clear" shape="round">
        <ion-icon slot="icon-only" class="arow-back" name="arrow-back-outline"></ion-icon>
      </ion-button>
      <ion-title>소매 편집</ion-title>
    </ion-row>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div class="ion-padding bg-calender">

    <ion-row>
      <ion-col size="10" class="line-height">
        <ion-row>
          <ion-label class="font-bold">{{retailer.retailer_name}}</ion-label>
          <span *ngFor="let depo of retailer.depositors">&nbsp;/&nbsp;{{depo.name}}</span> 
        </ion-row>
        <ion-row class="row">
          <ion-label class="round-border">사입비</ion-label>
          <ion-label class="font-bold">{{retailer.buying_fee}} 명</ion-label>
        </ion-row>
      </ion-col>
      <ion-col size="2">
        <ion-button class="btn-his">
          <ion-icon name="pencil-sharp"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>

    <ion-row class="row underline">
      <ion-col size="5">
        <ion-label>{{retailer.phone_number}}</ion-label>
      </ion-col>
      <ion-col size="7">
        <ion-label>{{retailer.address_ko}}</ion-label>
      </ion-col>
    </ion-row>

    <ion-row class="padding-top8">
      <ion-col size="4">
        <ion-select interface="popover" placeholder="선택" class="height32 bg-white">
          <ion-select-option value="nes">선택</ion-select-option>
          <ion-select-option value="n64">사입완료</ion-select-option>
          <ion-select-option value="ps">미수금</ion-select-option>
        </ion-select>
      </ion-col>
      <ion-col size="8">
        <ion-chip outline color="dark" class="bg-white">
          <ion-icon name="calendar-outline"></ion-icon>
          <div *ngIf="startDate != null && endDate != null; else def">
            <ion-label>{{startDate | date:'yyyy.MM.dd'}} ~ {{endDate | date:'yyyy.MM.dd'}}</ion-label>
          </div>
          <ng-template #def>
            <ion-label>----.--.-- ~ ----.--.--</ion-label>
          </ng-template >
        </ion-chip>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col size="12">
        <ion-row class="info">
          <ion-col> <ion-label class="black">&bull; 선택</ion-label></ion-col>
          <ion-col> <ion-label class="blue">&bull; 사입완료</ion-label></ion-col>
          <ion-col> <ion-label class="orange">&bull; 미수금</ion-label></ion-col>
        </ion-row>
      </ion-col>
    </ion-row>

    <ion-calendar [(ngModel)]="dateRange"
        [options]="optionsRange"
        [type]="type"
        (change)="onChange($event)"
        [format]="'YYYY-MM-DD'">
    </ion-calendar>

  <!-- <calendar 
    [eventSource]="eventSource"
    [calendarMode]="calendar.mode"
    [currentDate]="calendar.currentDate"
    [queryMode]="calendar.queryMode"
    (onEventSelected)="onEventSelected($event)"
    (onTimeSelected)="onTimeSelected($event)"
    (onTitleChanged)="onViewTitleChanged($event)"
    (onRangeChanged)="onRangeChanged($event)"
    [dateFormatter]="calendarFormart.dateFormatter"
    [monthviewDisplayEventTemplate]="foo"
    step=30
  >
  </calendar> -->

<!-- 
  <ng-template #foo let-view="view" let-row="row" let-col="col">
    <div [class.with-event]="view.dates[row*7+col].events.length">
      {{view.dates[row*7+col].label}}
      <div class="indicator-container">
        <div class="event-indicator" *ngFor="let e of view.dates[row*7+col].events"></div>
      </div>
    </div>
  </ng-template> -->

    <div class="bg-white borderTop">
      <ion-grid fixed>
        <ion-row class="line-height">
          <ion-col>
            <div><ion-label>사입건수</ion-label></div>
            <div><ion-label class="order-count">21​​ 건</ion-label></div>
          </ion-col>
          <ion-col class="col-border">
            <div><ion-label>물비(원)</ion-label></div>
            <div><ion-label class="font-bold">111,500,000</ion-label></div>
          </ion-col>
          <ion-col>
            <div><ion-label>사입비(원)</ion-label></div>
            <div><ion-label class="font-bold">60,000</ion-label></div>
          </ion-col>
        </ion-row>
      </ion-grid>
    
      <ion-button class="btn-his" (click)="purHistory()" expand="block" fill="solid" >
        사입 이력 조회
      </ion-button>
    </div>
  </div>

  

  
</ion-content>