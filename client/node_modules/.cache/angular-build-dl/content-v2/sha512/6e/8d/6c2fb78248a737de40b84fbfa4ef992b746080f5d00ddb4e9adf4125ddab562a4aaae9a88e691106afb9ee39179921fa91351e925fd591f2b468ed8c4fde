{"version":3,"sources":["webpack:///src/app/home/home.page.html","webpack:///src/app/guards/auth.guard.ts","webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/home.page.scss","webpack:///src/app/home/home.page.ts","webpack:///src/app/service/user/user.service.ts"],"names":["AuthGuard","router","authService","userService","token","localStorage","getItem","isRegister","navigate","providedIn","routes","path","canActivate","component","children","loadChildren","then","m","OrderPageModule","BuyPageModule","CalculatePageModule","RetailerPageModule","redirectTo","pathMatch","RegisterRetailerPageModule","SearchLocationPageModule","SearchTailerPageModule","EditPageModule","DetailPageModule","BuyingBasicFeePageModule","HomePageRoutingModule","imports","forChild","exports","HomePageModule","declarations","HomePage","menu","profile","username","email","getUserByEmail","subscribe","res","guimg","close","selector","template","UserService","httpClient","apiUrl","api","httpOptions","headers","user","post","pipe","handleError","put","get","id","error","ErrorEvent","console","message","status"],"mappings":"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","file":"home-home-module-es5.js","sourcesContent":["export default \"<ion-app>\\n  <ion-menu side=\\\"start\\\" content-id=\\\"main-content\\\">\\n    <ion-header class=\\\"ion-no-border\\\">\\n      <ion-toolbar translucent color=\\\"primary\\\">\\n        <ion-avatar smallImg slot=\\\"start\\\">\\n          <ion-img [src]=\\\"profile\\\"></ion-img>\\n        </ion-avatar>\\n        <ion-title padingName>\\n          <p class=\\\"ion-no-margin ion-no-padding\\\" info>{{username}}</p>\\n          <p padingName class=\\\"ion-no-margin ion-no-padding\\\">{{email}}</p>\\n        </ion-title>\\n        <ion-icon marginIconClose name=\\\"close\\\" slot=\\\"end\\\" (click)=\\\"closeMenu()\\\" ></ion-icon>\\n      </ion-toolbar>\\n    </ion-header>\\n\\n    <ion-content>\\n      <ion-list>\\n        <ion-item [routerLink]=\\\"['/login']\\\">\\n          <ion-icon name=\\\"chevron-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n          <ion-label>계정관리</ion-label>\\n        </ion-item>\\n        <ion-item>\\n          <ion-icon name=\\\"chevron-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n          <ion-label>사용설명</ion-label>\\n        </ion-item>\\n        <ion-item>\\n          <ion-icon name=\\\"chevron-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n          <ion-label>이용약관</ion-label>\\n        </ion-item>\\n        <ion-item>\\n          <ion-icon name=\\\"chevron-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n          <ion-label>개인 정보 처리 방침</ion-label>\\n        </ion-item>\\n        <ion-item (click)=\\\"goChangePurchaseFee()\\\">\\n          <ion-icon name=\\\"chevron-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n          <ion-label>기본 사입비 변경</ion-label>\\n        </ion-item>\\n      </ion-list>\\n    </ion-content>\\n  </ion-menu>\\n\\n  <div class=\\\"ion-page ion-no-padding\\\" id=\\\"main-content\\\">\\n    <ion-header>\\n      <ion-toolbar>\\n        <ion-title class=\\\"ion-text-center\\\" info >사입하다</ion-title>\\n        <ion-buttons slot=\\\"end\\\">\\n          <ion-menu-button color=\\\"primary\\\"></ion-menu-button>\\n        </ion-buttons>\\n      </ion-toolbar>\\n    </ion-header>\\n\\n    <ion-content>\\n      \\n      <ion-fab horizontal=\\\"end\\\" vertical=\\\"bottom\\\" edge slot=\\\"fixed\\\" minio>\\n        <ion-fab-button color=\\\"light\\\" >\\n          <ion-icon name=\\\"add-outline\\\" color=\\\"primary\\\"></ion-icon>\\n        </ion-fab-button>\\n        <ion-fab-list side=\\\"start\\\">\\n          <ion-button color=\\\"light\\\" class=\\\"ion-no-margin\\\" [routerLink]=\\\"['/register-retailer']\\\" >주문서등록</ion-button>\\n        </ion-fab-list>\\n      </ion-fab>\\n\\n      <!-- <ion-chip outline btn_down color=\\\"tertiary\\\" class=\\\"ion-float-end\\\">\\n        <ion-label>주문서등록</ion-label>\\n        <ion-icon name=\\\"add-circle-outline\\\"></ion-icon>\\n      </ion-chip> -->\\n\\n\\n      <ion-tabs>\\n        <ion-tab-bar slot=\\\"bottom\\\">\\n          <ion-tab-button tab=\\\"order\\\">\\n            <ion-icon name=\\\"reader-outline\\\"></ion-icon>\\n            <ion-label>주문</ion-label>\\n          </ion-tab-button>\\n\\n          <ion-tab-button tab=\\\"buy\\\">\\n            <ion-icon name=\\\"bag-handle-outline\\\"></ion-icon>\\n            <ion-label>사입</ion-label>\\n          </ion-tab-button>\\n\\n          <ion-tab-button (click)=\\\"goHome()\\\">\\n            <ion-icon name=\\\"arrow-redo-circle-outline\\\"></ion-icon>\\n          </ion-tab-button>\\n\\n          <ion-tab-button tab=\\\"calculate\\\">\\n            <ion-icon name=\\\"card-outline\\\"></ion-icon>\\n            <ion-label>정산</ion-label>\\n          </ion-tab-button>\\n\\n          <ion-tab-button tab=\\\"retailer\\\">\\n            <ion-icon name=\\\"file-tray-full-outline\\\"></ion-icon>\\n            <ion-label>소매처</ion-label>\\n          </ion-tab-button>\\n        </ion-tab-bar>\\n      </ion-tabs>\\n\\n      <ion-img src=\\\"./assets/img/deli2.jpg\\\"></ion-img>\\n      <h6 class=\\\"ion-text-center\\\">사입 전, 당일 주문서를 등록해주세요!</h6>\\n      \\n    </ion-content>\\n  </div>\\n</ion-app>\\n\";","import { Injectable } from '@angular/core';\nimport { CanActivate, NavigationExtras, Router } from '@angular/router';\nimport { AuthService } from '../service/auth/auth.service';\nimport { UserService } from '../service/user/user.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n  constructor(\n    private router: Router,\n    private authService: AuthService,\n    private userService: UserService\n  ) {\n   }\n  canActivate() {\n    const token = localStorage.getItem('token')\n    const isRegister = localStorage.getItem('isRegister')\n\n    if (token){\n        if(isRegister && isRegister === 'true'){\n          return true;\n        }else{\n          this.router.navigate(['/sign-up'])\n        }\n      }\n      else {  \n        this.router.navigate(['/login'])\n    }\n    return false;\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from \"@angular/router\";\nimport { AuthGuard } from \"../guards/auth.guard\";\n\nimport { HomePage } from \"./home.page\";\n\nconst routes: Routes = [\n  {\n    path: \"home\",\n    canActivate: [AuthGuard],\n    component: HomePage,\n    children: [\n      {\n        path: 'order',\n        loadChildren: () => import('./order/order.module').then( m => m.OrderPageModule)\n      },\n      {\n        path: 'buy',\n        loadChildren: () => import('./buy/buy.module').then( m => m.BuyPageModule)\n      },\n      {\n        path: 'calculate',\n        loadChildren: () => import('./calculate/calculate.module').then( m => m.CalculatePageModule)\n      },\n      {\n        path: 'retailer',\n        loadChildren: () => import('./retailer/retailer.module').then( m => m.RetailerPageModule)\n      },\n      {\n        path: \"\",\n        redirectTo: \"/home\",\n        pathMatch: \"full\",\n      },\n    ],\n  },\n  {\n    path: \"\",\n    redirectTo: \"/home\",\n    pathMatch: \"full\",\n  },\n  {\n    path: 'register-retailer',\n    loadChildren: () => import('./register-retailer/register-retailer.module').then( m => m.RegisterRetailerPageModule)\n  },\n  {\n    path: 'search-location',\n    loadChildren: () => import('./search-location/search-location.module').then( m => m.SearchLocationPageModule)\n  },\n  {\n    path: 'search-tailer',\n    loadChildren: () => import('./search-tailer/search-tailer.module').then( m => m.SearchTailerPageModule)\n  },\n  {\n    path: 'edit',\n    loadChildren: () => import('./retailer/edit/edit.module').then( m => m.EditPageModule)\n  },\n  {\n    path: 'home/retailer/detail',\n    loadChildren: () => import('./retailer/detail/detail.module').then( m => m.DetailPageModule)\n  },\n  {\n    path: 'buying-basic-fee',\n    loadChildren: () => import('./buying-basic-fee/buying-basic-fee.module').then( m => m.BuyingBasicFeePageModule)\n  }\n  \n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \".my-custom-menu {\\n  --width: 500px;\\n}\\n\\nion-title[info] {\\n  font-size: 18px;\\n  font-weight: bold;\\n  color: #4848f1;\\n}\\n\\np[info] {\\n  font-size: 16px;\\n  font-weight: bold;\\n}\\n\\nion-fab[minio] {\\n  margin-bottom: 100px;\\n}\\n\\nion-avatar[smallImg] {\\n  width: 60px;\\n  height: 60px;\\n  margin: 50px 0 10px 10px;\\n}\\n\\nion-title[padingName] {\\n  margin: 50px 0 11px -11px;\\n}\\n\\np[padingName] {\\n  font-size: 14px;\\n  padding-top: 8px;\\n}\\n\\nion-icon[marginIconClose] {\\n  margin: 0px 18px 100px 0px;\\n  font-size: 23px;\\n}\\n\\nion-chip[btn_down] {\\n  margin-top: 40px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7QUFDRjs7QUFDQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUFFRjs7QUFDQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQUVGOztBQUNBO0VBQ0Usb0JBQUE7QUFFRjs7QUFDQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esd0JBQUE7QUFFRjs7QUFDQTtFQUNFLHlCQUFBO0FBRUY7O0FBQ0E7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUFFRjs7QUFDQTtFQUNFLDBCQUFBO0VBQ0EsZUFBQTtBQUVGOztBQUNBO0VBQ0UsZ0JBQUE7QUFFRiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubXktY3VzdG9tLW1lbnUge1xuICAtLXdpZHRoOiA1MDBweDtcbn1cbmlvbi10aXRsZVtpbmZvXXtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBmb250LXdlaWdodDpib2xkO1xuICBjb2xvcjogcmdiKDcyLCA3MiwgMjQxKTtcbiAgLy8gbWFyZ2luLWJvdHRvbTogMTVweDtcbn1cbnBbaW5mb117XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgZm9udC13ZWlnaHQ6Ym9sZDtcbn1cblxuaW9uLWZhYlttaW5pb10ge1xuICBtYXJnaW4tYm90dG9tOiAxMDBweDtcbn1cblxuaW9uLWF2YXRhcltzbWFsbEltZ10ge1xuICB3aWR0aDogNjBweDtcbiAgaGVpZ2h0OiA2MHB4O1xuICBtYXJnaW46IDUwcHggMCAxMHB4IDEwcHg7XG59XG5cbmlvbi10aXRsZVtwYWRpbmdOYW1lXSB7XG4gIG1hcmdpbjogNTBweCAwIDExcHggLTExcHg7XG59XG5cbnBbcGFkaW5nTmFtZV0ge1xuICBmb250LXNpemU6IDE0cHg7XG4gIHBhZGRpbmctdG9wOiA4cHg7XG59XG5cbmlvbi1pY29uW21hcmdpbkljb25DbG9zZV0ge1xuICBtYXJnaW46IDBweCAxOHB4IDEwMHB4IDBweDtcbiAgZm9udC1zaXplOiAyM3B4O1xufVxuXG5pb24tY2hpcFtidG5fZG93bl17XG4gIG1hcmdpbi10b3A6IDQwcHg7XG59XG4iXX0= */\";","\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MenuController,NavController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { UserService } from '../service/user/user.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage implements OnInit {\n\n  user: any;\n  profile: string = 'https://images.macrumors.com/t/6jfiBfTMQZ_y6TfR50NZ9F9vJiU=/800x0/filters:quality(90)/article-new/2019/04/guest-user-250x250.jpg?lossy';\n  username: string ='손님';\n  email: string = 'guestuser@gmail.com';\n\n  constructor(\n    private router: Router,\n    private menu:MenuController, \n    private userService: UserService\n  )\n  {}\n\n  ngOnInit() {\n    let email = localStorage.getItem('email');\n    this.userService.getUserByEmail(email).subscribe(res => {\n      this.username = res.username;\n      this.email = res.email;\n      this.profile = res.guimg;\n    })\n  }\n\n  goHome(){\n    this.router.navigate(['/home']);\n  }\n\n  goChangePurchaseFee(){\n    this.router.navigate(['/change-purchase-fee']);\n  }\n  \n\n  closeMenu(){\n    this.menu.close();\n  }\n\n}","import { HttpClient, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError, retry } from 'rxjs/operators';\nimport { UserDto } from 'src/app/Dto/user.Dto';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n\n  apiUrl = environment.api + 'users';\n\n  constructor(public httpClient: HttpClient) { }\n\n  // Http Options\n  httpOptions = {\n    headers: new HttpHeaders({\n      'Content-Type': 'application/json'\n    })\n  }\n\n  public createUser(user: UserDto): Observable<UserDto> {\n    return this.httpClient.post<UserDto>(this.apiUrl, user, this.httpOptions)\n      .pipe(\n        retry(2),\n        catchError(this.handleError)\n      );\n  }\n\n  public updateUser(user: UserDto): Observable<UserDto> {\n    return this.httpClient\n      .put<UserDto>(this.apiUrl + '/' + user.email, user, this.httpOptions)\n      .pipe(\n        retry(2),\n        catchError(this.handleError)\n      );\n  }\n\n  public getUserByEmail(email: string): Observable<UserDto> {\n    return this.httpClient.get<UserDto>(this.apiUrl + '/' + email)\n      .pipe(\n        retry(2),\n        catchError(this.handleError)\n      );\n  }\n\n  public deActiveUser(id: string): Observable<UserDto> {\n    return this.httpClient\n      .put<UserDto>(this.apiUrl + '/de-active/' + id, this.httpOptions)\n      .pipe(\n        retry(2),\n        catchError(this.handleError)\n      );\n  }\n\n  handleError(error: HttpErrorResponse) {\n    if (error.error instanceof ErrorEvent) {\n      console.error('An error occurred:', error.error.message);\n    } else {\n      console.error(\n        `Backend returned code ${error.status}, ` +\n        `body was: ${error.error}`);\n    }\n    return throwError(\n      'Something bad happened; please try again later.');\n  };\n\n}\n"]}